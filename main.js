/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  enabled: false,
  maskMode: "hide",
  revealMode: "word",
  excludeTitleLine: true,
  excludeFrontmatter: true,
  excludeHeaders: true,
  revealSelection: true,
  showNotices: true
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Privacy Mode" });
    new import_obsidian.Setting(containerEl).setName("Privacy mode (global)").setDesc(
      "Turns masking on/off. You can also bind a hotkey to the Toggle privacy mode command."
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.enabled).onChange(async (value) => {
        this.plugin.settings.enabled = value;
        await this.plugin.saveSettings();
        this.plugin.notifySettingsChanged();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Mask style").setDesc("Hide characters entirely, or show ***** in place of letters.").addDropdown((dd) => {
      dd.addOption("hide", "Hide (blank)");
      dd.addOption("asterisks", "Asterisks (***** )");
      dd.setValue(this.plugin.settings.maskMode);
      dd.onChange(async (value) => {
        this.plugin.settings.maskMode = value;
        await this.plugin.saveSettings();
        this.plugin.notifySettingsChanged();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Reveal at cursor").setDesc("What should remain visible at the cursor position.").addDropdown((dd) => {
      dd.addOption("word", "Current word");
      dd.addOption("letter", "Current letter");
      dd.addOption("none", "Nothing (full privacy)");
      dd.setValue(this.plugin.settings.revealMode);
      dd.onChange(async (value) => {
        this.plugin.settings.revealMode = value;
        await this.plugin.saveSettings();
        this.plugin.notifySettingsChanged();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Keep title line visible").setDesc("If your note starts with a markdown heading, keep that line visible.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.excludeTitleLine).onChange(async (value) => {
        this.plugin.settings.excludeTitleLine = value;
        await this.plugin.saveSettings();
        this.plugin.notifySettingsChanged();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Keep frontmatter visible").setDesc("Keep YAML frontmatter (--- ... ---) visible at the top of the note.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.excludeFrontmatter).onChange(async (value) => {
        this.plugin.settings.excludeFrontmatter = value;
        await this.plugin.saveSettings();
        this.plugin.notifySettingsChanged();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Exclude headers").setDesc("Keep Markdown headers (#, ##, ###, etc.) visible.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.excludeHeaders).onChange(async (value) => {
        this.plugin.settings.excludeHeaders = value;
        await this.plugin.saveSettings();
        this.plugin.notifySettingsChanged();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Reveal selected text").setDesc("If enabled, selected text becomes visible while selected.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.revealSelection).onChange(async (value) => {
        this.plugin.settings.revealSelection = value;
        await this.plugin.saveSettings();
        this.plugin.notifySettingsChanged();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Show notices").setDesc("Show a popup notice when toggling (useful while developing).").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showNotices).onChange(async (value) => {
        this.plugin.settings.showNotices = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Hotkey" });
    containerEl.createEl("p", {
      text: "Bind a hotkey to: Settings \u2192 Hotkeys \u2192 search \u201CToggle privacy mode\u201D. Obsidian keybinds commands rather than plugins hardcoding key combos."
    });
  }
};

// src/privacy/PrivacyController.ts
var import_obsidian2 = require("obsidian");
var import_state = require("@codemirror/state");

// src/privacy/cm6/PrivacyExtension.ts
var import_view2 = require("@codemirror/view");

// src/privacy/cm6/masking/buildMaskDecorations.ts
var import_view = require("@codemirror/view");

// src/privacy/cm6/masking/ranges.ts
function mergeRanges(ranges) {
  const sorted = ranges.filter((r) => r.to > r.from).slice().sort((a, b) => a.from - b.from || a.to - b.to);
  const merged = [];
  for (const r of sorted) {
    const last = merged[merged.length - 1];
    if (!last || r.from > last.to) merged.push({ ...r });
    else last.to = Math.max(last.to, r.to);
  }
  return merged;
}
function subtractRanges(base, subtract) {
  const b = mergeRanges(base);
  const s = mergeRanges(subtract);
  const out = [];
  for (const br of b) {
    let cursor = br.from;
    for (const sr of s) {
      if (sr.to <= cursor) continue;
      if (sr.from >= br.to) break;
      const start = Math.max(cursor, br.from);
      const end = Math.min(sr.from, br.to);
      if (end > start) out.push({ from: start, to: end });
      cursor = Math.max(cursor, sr.to);
      if (cursor >= br.to) break;
    }
    if (cursor < br.to) out.push({ from: cursor, to: br.to });
  }
  return out;
}
function computeRevealRanges(state, revealMode) {
  if (revealMode === "none") return [];
  const pos = state.selection.main.head;
  if (revealMode === "letter") {
    if (pos < state.doc.length) return [{ from: pos, to: pos + 1 }];
    if (pos > 0) return [{ from: pos - 1, to: pos }];
    return [];
  }
  const line = state.doc.lineAt(pos);
  const idx = pos - line.from;
  const isWordChar = (ch) => /[A-Za-z0-9_]/.test(ch);
  let left = idx;
  while (left > 0 && isWordChar(line.text.charAt(left - 1))) left--;
  let right = idx;
  while (right < line.text.length && isWordChar(line.text.charAt(right))) right++;
  if (right <= left) {
    return [];
  }
  return [{ from: line.from + left, to: line.from + right }];
}

// src/privacy/cm6/masking/headers.ts
function isHeaderLine(lineText) {
  return /^\s{0,3}#{1,6}\s/.test(lineText);
}

// src/privacy/cm6/masking/exclusions.ts
function computeExcludedRanges(state, opts) {
  const out = [];
  if (opts.excludeFrontmatter) {
    out.push(...getFrontmatterRanges(state));
  }
  if (opts.excludeTitleLine) {
    const firstLine = state.doc.line(1);
    if (isHeaderLine(firstLine.text)) {
      out.push({ from: firstLine.from, to: firstLine.to });
    }
  }
  return out;
}
function getFrontmatterRanges(state) {
  const ranges = [];
  if (state.doc.lines < 2) return ranges;
  const first = state.doc.line(1).text.trim();
  if (first !== "---") return ranges;
  for (let lineNo = 2; lineNo <= state.doc.lines; lineNo++) {
    const line = state.doc.line(lineNo);
    const t = line.text.trim();
    if (t === "---" || t === "...") {
      const start = state.doc.line(1);
      ranges.push({ from: start.from, to: line.to });
      break;
    }
  }
  return ranges;
}

// src/privacy/cm6/masking/buildMaskDecorations.ts
function buildMaskDecorations(view, enabled, settings) {
  if (!enabled) return import_view.Decoration.none;
  const builder = new class {
    constructor() {
      this.decos = [];
    }
    add(from, to, deco) {
      this.decos.push({ from, to, deco });
    }
    finish() {
      return import_view.Decoration.set(this.decos.map((d) => d.deco.range(d.from, d.to)), true);
    }
  }();
  const state = view.state;
  const cursorReveal = computeRevealRanges(state, settings.revealMode);
  const selectionReveal = settings.revealSelection ? state.selection.ranges.filter((r) => !r.empty).map((r) => ({ from: Math.min(r.from, r.to), to: Math.max(r.from, r.to) })) : [];
  const excluded = computeExcludedRanges(state, {
    excludeFrontmatter: settings.excludeFrontmatter,
    excludeTitleLine: settings.excludeTitleLine
  });
  const revealRanges = mergeRanges([...cursorReveal, ...selectionReveal, ...excluded]);
  for (const vr of view.visibleRanges) {
    let pos = vr.from;
    while (pos <= vr.to) {
      const line = state.doc.lineAt(pos);
      if (line.from > vr.to) break;
      const excludeThisLine = settings.excludeHeaders && isHeaderLine(line.text);
      if (!excludeThisLine) {
        const lineRange = { from: line.from, to: line.to };
        const revealInLine = revealRanges.filter((r) => r.to > lineRange.from && r.from < lineRange.to).map((r) => ({
          from: Math.max(r.from, lineRange.from),
          to: Math.min(r.to, lineRange.to)
        }));
        const maskSegments = subtractRanges([lineRange], revealInLine);
        for (const seg of maskSegments) {
          if (seg.to <= seg.from) continue;
          const length = seg.to - seg.from;
          const cls = settings.maskMode === "hide" ? "privacy-mask-hide" : "privacy-mask-password";
          const deco = import_view.Decoration.mark({ class: cls });
          builder.add(seg.from, seg.to, deco);
        }
      }
      pos = line.to + 1;
      if (pos === line.from) break;
    }
  }
  return builder.finish();
}

// src/privacy/cm6/PrivacyExtension.ts
function buildPrivacyExtension(args) {
  const { enabled, settings } = args;
  const plugin = import_view2.ViewPlugin.fromClass(
    class PrivacyMaskPlugin {
      constructor(view) {
        this.decorations = buildMaskDecorations(view, enabled, settings);
      }
      update(update) {
        if (!enabled) {
          this.decorations = import_view2.Decoration.none;
          return;
        }
        if (update.docChanged || update.selectionSet || update.viewportChanged) {
          this.decorations = buildMaskDecorations(update.view, enabled, settings);
        }
      }
    },
    { decorations: (v) => v.decorations }
  );
  return [plugin];
}

// src/privacy/PrivacyController.ts
var PrivacyController = class {
  constructor(plugin) {
    this.compartment = new import_state.Compartment();
    this.plugin = plugin;
    this.enabled = plugin.settings.enabled;
    this.baseExtension = this.compartment.of(
      buildPrivacyExtension({
        enabled: this.enabled,
        settings: this.plugin.settings
      })
    );
    this.plugin.registerEditorExtension(this.baseExtension);
    const off1 = this.plugin.app.workspace.on("active-leaf-change", () => this.apply("settings-change"));
    const off2 = this.plugin.app.workspace.on("layout-change", () => this.apply("settings-change"));
    this.plugin.register(() => this.plugin.app.workspace.offref(off1));
    this.plugin.register(() => this.plugin.app.workspace.offref(off2));
  }
  dispose() {
  }
  syncFromSettings(opts) {
    this.enabled = this.plugin.settings.enabled;
    this.apply(opts.reason);
  }
  toggleEnabled() {
    this.setEnabled(!this.enabled);
  }
  setEnabled(next) {
    if (this.enabled === next) return;
    this.enabled = next;
    this.plugin.settings.enabled = next;
    void this.plugin.saveSettings();
    this.plugin.notify(`Privacy mode: ${next ? "ON" : "OFF"}`);
    this.apply("command");
  }
  onSettingsChanged() {
    this.apply("settings-change");
  }
  apply(_reason) {
    const ext = buildPrivacyExtension({
      enabled: this.enabled,
      settings: this.plugin.settings
    });
    const effect = this.compartment.reconfigure(ext);
    for (const view of this.getAllMarkdownEditorViews()) {
      const cm = this.getEditorView(view);
      if (!cm) continue;
      cm.dispatch({ effects: effect });
    }
  }
  *getAllMarkdownEditorViews() {
    const leaves = this.plugin.app.workspace.getLeavesOfType("markdown");
    for (const leaf of leaves) {
      const view = leaf.view;
      if (view instanceof import_obsidian2.MarkdownView) yield view;
    }
  }
  /**
   * Obsidian's Editor is wrapped; in CM6 it usually exposes `.cm` as EditorView.
   * This is the common plugin pattern.
   */
  getEditorView(view) {
    const editorAny = view.editor;
    const cm = editorAny == null ? void 0 : editorAny.cm;
    return cm != null ? cm : null;
  }
};

// src/main.ts
var MyPlugin = class extends import_obsidian3.Plugin {
  async onload() {
    await this.loadSettings();
    this.privacy = new PrivacyController(this);
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerCommands();
    this.privacy.syncFromSettings({ reason: "startup" });
  }
  onunload() {
    var _a;
    (_a = this.privacy) == null ? void 0 : _a.dispose();
  }
  registerCommands() {
    this.addCommand({
      id: "toggle-privacy-mode",
      name: "Toggle privacy mode",
      callback: () => this.privacy.toggleEnabled()
    });
    this.addCommand({
      id: "enable-privacy-mode",
      name: "Enable privacy mode",
      callback: () => this.privacy.setEnabled(true)
    });
    this.addCommand({
      id: "disable-privacy-mode",
      name: "Disable privacy mode",
      callback: () => this.privacy.setEnabled(false)
    });
  }
  notifySettingsChanged() {
    this.privacy.onSettingsChanged();
  }
  notify(msg) {
    if (this.settings.showNotices) new import_obsidian3.Notice(msg);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy9wcml2YWN5L1ByaXZhY3lDb250cm9sbGVyLnRzIiwgInNyYy9wcml2YWN5L2NtNi9Qcml2YWN5RXh0ZW5zaW9uLnRzIiwgInNyYy9wcml2YWN5L2NtNi9tYXNraW5nL2J1aWxkTWFza0RlY29yYXRpb25zLnRzIiwgInNyYy9wcml2YWN5L2NtNi9tYXNraW5nL3Jhbmdlcy50cyIsICJzcmMvcHJpdmFjeS9jbTYvbWFza2luZy9oZWFkZXJzLnRzIiwgInNyYy9wcml2YWN5L2NtNi9tYXNraW5nL2V4Y2x1c2lvbnMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTLCBNeVBsdWdpblNldHRpbmdzLCBTYW1wbGVTZXR0aW5nVGFiIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFByaXZhY3lDb250cm9sbGVyIH0gZnJvbSBcIi4vcHJpdmFjeS9Qcml2YWN5Q29udHJvbGxlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzITogTXlQbHVnaW5TZXR0aW5ncztcbiAgcHJpdmF0ZSBwcml2YWN5ITogUHJpdmFjeUNvbnRyb2xsZXI7XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICB0aGlzLnByaXZhY3kgPSBuZXcgUHJpdmFjeUNvbnRyb2xsZXIodGhpcyk7XG5cbiAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNhbXBsZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZHMoKTtcblxuICAgIC8vIEluaXRpYWxpemUgcnVudGltZSBmcm9tIHBlcnNpc3RlZCBzZXR0aW5nc1xuICAgIHRoaXMucHJpdmFjeS5zeW5jRnJvbVNldHRpbmdzKHsgcmVhc29uOiBcInN0YXJ0dXBcIiB9KTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIHRoaXMucHJpdmFjeT8uZGlzcG9zZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3RlckNvbW1hbmRzKCkge1xuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJ0b2dnbGUtcHJpdmFjeS1tb2RlXCIsXG4gICAgICBuYW1lOiBcIlRvZ2dsZSBwcml2YWN5IG1vZGVcIixcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnByaXZhY3kudG9nZ2xlRW5hYmxlZCgpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImVuYWJsZS1wcml2YWN5LW1vZGVcIixcbiAgICAgIG5hbWU6IFwiRW5hYmxlIHByaXZhY3kgbW9kZVwiLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMucHJpdmFjeS5zZXRFbmFibGVkKHRydWUpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImRpc2FibGUtcHJpdmFjeS1tb2RlXCIsXG4gICAgICBuYW1lOiBcIkRpc2FibGUgcHJpdmFjeSBtb2RlXCIsXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5wcml2YWN5LnNldEVuYWJsZWQoZmFsc2UpLFxuICAgIH0pO1xuICB9XG5cbiAgbm90aWZ5U2V0dGluZ3NDaGFuZ2VkKCkge1xuICAgIHRoaXMucHJpdmFjeS5vblNldHRpbmdzQ2hhbmdlZCgpO1xuICB9XG5cbiAgbm90aWZ5KG1zZzogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd05vdGljZXMpIG5ldyBOb3RpY2UobXNnKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgKGF3YWl0IHRoaXMubG9hZERhdGEoKSkgYXMgUGFydGlhbDxNeVBsdWdpblNldHRpbmdzPik7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IE15UGx1Z2luIGZyb20gXCIuL21haW5cIjtcblxuZXhwb3J0IHR5cGUgTWFza01vZGUgPSBcImhpZGVcIiB8IFwiYXN0ZXJpc2tzXCI7XG5leHBvcnQgdHlwZSBSZXZlYWxNb2RlID0gXCJ3b3JkXCIgfCBcImxldHRlclwiIHwgXCJub25lXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTXlQbHVnaW5TZXR0aW5ncyB7XG5cdC8qKiBQZXJzaXN0ZWQgZ2xvYmFsIGRlZmF1bHQgc3RhdGUgKi9cblx0ZW5hYmxlZDogYm9vbGVhbjtcblxuXHQvKiogSG93IHRvIG1hc2sgbm9uLXJldmVhbGVkIHRleHQgKi9cblx0bWFza01vZGU6IE1hc2tNb2RlO1xuXG5cdC8qKiBXaGF0IHRvIHJldmVhbCBhdCB0aGUgY3Vyc29yICovXG5cdHJldmVhbE1vZGU6IFJldmVhbE1vZGU7XG5cblx0LyoqIEtlZXAgdGhlIG5vdGUgdGl0bGUgbGluZSB2aXNpYmxlIChmaXJzdCBtYXJrZG93biBoZWFkaW5nIGxpbmUpICovXG5cdGV4Y2x1ZGVUaXRsZUxpbmU6IGJvb2xlYW47XG5cblx0LyoqIEtlZXAgWUFNTCBmcm9udG1hdHRlciBibG9jayB2aXNpYmxlICovXG5cdGV4Y2x1ZGVGcm9udG1hdHRlcjogYm9vbGVhbjtcblxuXHQvKiogS2VlcCBNYXJrZG93biBoZWFkZXJzIHZpc2libGUgKCMsICMjLCBldGMuKSAqL1xuXHRleGNsdWRlSGVhZGVyczogYm9vbGVhbjtcblxuXHQvKiogSWYgZW5hYmxlZCwgc2VsZWN0aW9uIGJlY29tZXMgdmlzaWJsZSB3aGlsZSBzZWxlY3RlZCAqL1xuXHRyZXZlYWxTZWxlY3Rpb246IGJvb2xlYW47XG5cblx0LyoqIE9wdGlvbmFsOiBzaG93IGEgbm90aWNlIHdoZW4gdG9nZ2xpbmcgKGhlbHBmdWwgZHVyaW5nIGRldikgKi9cblx0c2hvd05vdGljZXM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNeVBsdWdpblNldHRpbmdzID0ge1xuXHRlbmFibGVkOiBmYWxzZSxcblx0bWFza01vZGU6IFwiaGlkZVwiLFxuXHRyZXZlYWxNb2RlOiBcIndvcmRcIixcblx0ZXhjbHVkZVRpdGxlTGluZTogdHJ1ZSxcblx0ZXhjbHVkZUZyb250bWF0dGVyOiB0cnVlLFxuXHRleGNsdWRlSGVhZGVyczogdHJ1ZSxcblx0cmV2ZWFsU2VsZWN0aW9uOiB0cnVlLFxuXHRzaG93Tm90aWNlczogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjbGFzcyBTYW1wbGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTXlQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTXlQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlByaXZhY3kgTW9kZVwiIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlByaXZhY3kgbW9kZSAoZ2xvYmFsKVwiKVxuXHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFwiVHVybnMgbWFza2luZyBvbi9vZmYuIFlvdSBjYW4gYWxzbyBiaW5kIGEgaG90a2V5IHRvIHRoZSBUb2dnbGUgcHJpdmFjeSBtb2RlIGNvbW1hbmQuXCJcblx0XHRcdClcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZWQpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZWQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5ub3RpZnlTZXR0aW5nc0NoYW5nZWQoKTtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiTWFzayBzdHlsZVwiKVxuXHRcdFx0LnNldERlc2MoXCJIaWRlIGNoYXJhY3RlcnMgZW50aXJlbHksIG9yIHNob3cgKioqKiogaW4gcGxhY2Ugb2YgbGV0dGVycy5cIilcblx0XHRcdC5hZGREcm9wZG93bigoZGQpID0+IHtcblx0XHRcdFx0ZGQuYWRkT3B0aW9uKFwiaGlkZVwiLCBcIkhpZGUgKGJsYW5rKVwiKTtcblx0XHRcdFx0ZGQuYWRkT3B0aW9uKFwiYXN0ZXJpc2tzXCIsIFwiQXN0ZXJpc2tzICgqKioqKiApXCIpO1xuXHRcdFx0XHRkZC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXNrTW9kZSk7XG5cdFx0XHRcdGRkLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1hc2tNb2RlID0gdmFsdWUgYXMgTWFza01vZGU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubm90aWZ5U2V0dGluZ3NDaGFuZ2VkKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiUmV2ZWFsIGF0IGN1cnNvclwiKVxuXHRcdFx0LnNldERlc2MoXCJXaGF0IHNob3VsZCByZW1haW4gdmlzaWJsZSBhdCB0aGUgY3Vyc29yIHBvc2l0aW9uLlwiKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkZCkgPT4ge1xuXHRcdFx0XHRkZC5hZGRPcHRpb24oXCJ3b3JkXCIsIFwiQ3VycmVudCB3b3JkXCIpO1xuXHRcdFx0XHRkZC5hZGRPcHRpb24oXCJsZXR0ZXJcIiwgXCJDdXJyZW50IGxldHRlclwiKTtcblx0XHRcdFx0ZGQuYWRkT3B0aW9uKFwibm9uZVwiLCBcIk5vdGhpbmcgKGZ1bGwgcHJpdmFjeSlcIik7XG5cdFx0XHRcdGRkLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJldmVhbE1vZGUpO1xuXHRcdFx0XHRkZC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXZlYWxNb2RlID0gdmFsdWUgYXMgUmV2ZWFsTW9kZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5ub3RpZnlTZXR0aW5nc0NoYW5nZWQoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJLZWVwIHRpdGxlIGxpbmUgdmlzaWJsZVwiKVxuXHRcdFx0LnNldERlc2MoXCJJZiB5b3VyIG5vdGUgc3RhcnRzIHdpdGggYSBtYXJrZG93biBoZWFkaW5nLCBrZWVwIHRoYXQgbGluZSB2aXNpYmxlLlwiKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZVRpdGxlTGluZSkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVUaXRsZUxpbmUgPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucGx1Z2luLm5vdGlmeVNldHRpbmdzQ2hhbmdlZCgpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJLZWVwIGZyb250bWF0dGVyIHZpc2libGVcIilcblx0XHRcdC5zZXREZXNjKFwiS2VlcCBZQU1MIGZyb250bWF0dGVyICgtLS0gLi4uIC0tLSkgdmlzaWJsZSBhdCB0aGUgdG9wIG9mIHRoZSBub3RlLlwiKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUZyb250bWF0dGVyKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUZyb250bWF0dGVyID0gdmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5ub3RpZnlTZXR0aW5nc0NoYW5nZWQoKTtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiRXhjbHVkZSBoZWFkZXJzXCIpXG5cdFx0XHQuc2V0RGVzYyhcIktlZXAgTWFya2Rvd24gaGVhZGVycyAoIywgIyMsICMjIywgZXRjLikgdmlzaWJsZS5cIilcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVIZWFkZXJzKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlSGVhZGVycyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLm5vdGlmeVNldHRpbmdzQ2hhbmdlZCgpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJSZXZlYWwgc2VsZWN0ZWQgdGV4dFwiKVxuXHRcdFx0LnNldERlc2MoXCJJZiBlbmFibGVkLCBzZWxlY3RlZCB0ZXh0IGJlY29tZXMgdmlzaWJsZSB3aGlsZSBzZWxlY3RlZC5cIilcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJldmVhbFNlbGVjdGlvbikub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmV2ZWFsU2VsZWN0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubm90aWZ5U2V0dGluZ3NDaGFuZ2VkKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlNob3cgbm90aWNlc1wiKVxuXHRcdFx0LnNldERlc2MoXCJTaG93IGEgcG9wdXAgbm90aWNlIHdoZW4gdG9nZ2xpbmcgKHVzZWZ1bCB3aGlsZSBkZXZlbG9waW5nKS5cIilcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dOb3RpY2VzKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Tm90aWNlcyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdC8vIE5vIG5lZWQgdG8gcmUtYXBwbHkgbWFza2luZyBqdXN0IGJlY2F1c2Ugbm90aWNlIHByZWZlcmVuY2UgY2hhbmdlZC5cblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJIb3RrZXlcIiB9KTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xuXHRcdFx0dGV4dDpcblx0XHRcdFx0XCJCaW5kIGEgaG90a2V5IHRvOiBTZXR0aW5ncyBcdTIxOTIgSG90a2V5cyBcdTIxOTIgc2VhcmNoIFx1MjAxQ1RvZ2dsZSBwcml2YWN5IG1vZGVcdTIwMUQuIFwiICtcblx0XHRcdFx0XCJPYnNpZGlhbiBrZXliaW5kcyBjb21tYW5kcyByYXRoZXIgdGhhbiBwbHVnaW5zIGhhcmRjb2Rpbmcga2V5IGNvbWJvcy5cIixcblx0XHR9KTtcblx0fVxufVxuIiwgImltcG9ydCB0eXBlIE15UGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcbmltcG9ydCB7IE1hcmtkb3duVmlldyB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBDb21wYXJ0bWVudCwgdHlwZSBFeHRlbnNpb24gfSBmcm9tIFwiQGNvZGVtaXJyb3Ivc3RhdGVcIjtcclxuaW1wb3J0IHR5cGUgeyBFZGl0b3JWaWV3IH0gZnJvbSBcIkBjb2RlbWlycm9yL3ZpZXdcIjtcclxuaW1wb3J0IHsgYnVpbGRQcml2YWN5RXh0ZW5zaW9uIH0gZnJvbSBcIi4vY202L1ByaXZhY3lFeHRlbnNpb25cIjtcclxuXHJcbnR5cGUgQXBwbHlSZWFzb24gPSBcInN0YXJ0dXBcIiB8IFwiY29tbWFuZFwiIHwgXCJzZXR0aW5ncy1jaGFuZ2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcml2YWN5Q29udHJvbGxlciB7XHJcbiAgcHJpdmF0ZSBwbHVnaW46IE15UGx1Z2luO1xyXG5cclxuICBwcml2YXRlIGVuYWJsZWQ6IGJvb2xlYW47XHJcblxyXG4gIHByaXZhdGUgY29tcGFydG1lbnQgPSBuZXcgQ29tcGFydG1lbnQoKTtcclxuICBwcml2YXRlIGJhc2VFeHRlbnNpb246IEV4dGVuc2lvbjtcclxuXHJcbiAgY29uc3RydWN0b3IocGx1Z2luOiBNeVBsdWdpbikge1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICB0aGlzLmVuYWJsZWQgPSBwbHVnaW4uc2V0dGluZ3MuZW5hYmxlZDtcclxuXHJcbiAgICAvLyBSZWdpc3RlciBPTkUgZWRpdG9yIGV4dGVuc2lvbiwgYW5kIHJlY29uZmlndXJlIGl0IHZpYSBhIENvbXBhcnRtZW50LlxyXG4gICAgdGhpcy5iYXNlRXh0ZW5zaW9uID0gdGhpcy5jb21wYXJ0bWVudC5vZihcclxuICAgICAgYnVpbGRQcml2YWN5RXh0ZW5zaW9uKHtcclxuICAgICAgICBlbmFibGVkOiB0aGlzLmVuYWJsZWQsXHJcbiAgICAgICAgc2V0dGluZ3M6IHRoaXMucGx1Z2luLnNldHRpbmdzLFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckVkaXRvckV4dGVuc2lvbih0aGlzLmJhc2VFeHRlbnNpb24pO1xyXG5cclxuICAgIC8vIFJlLWFwcGx5IHdoZW4gc3dpdGNoaW5nIHBhbmVzL25vdGVzXHJcbiAgICBjb25zdCBvZmYxID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCAoKSA9PiB0aGlzLmFwcGx5KFwic2V0dGluZ3MtY2hhbmdlXCIpKTtcclxuICAgIGNvbnN0IG9mZjIgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFwibGF5b3V0LWNoYW5nZVwiLCAoKSA9PiB0aGlzLmFwcGx5KFwic2V0dGluZ3MtY2hhbmdlXCIpKTtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyKCgpID0+IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub2ZmcmVmKG9mZjEpKTtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyKCgpID0+IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub2ZmcmVmKG9mZjIpKTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICAvLyBPYnNpZGlhbiB3aWxsIGNsZWFuIHVwIHJlZ2lzdGVyZWQgZWRpdG9yIGV4dGVuc2lvbnMgYXV0b21hdGljYWxseS5cclxuICAgIC8vIElmIHlvdSBsYXRlciBhZGQgbWFudWFsIGxpc3RlbmVycyBpbiBDTSBsYW5kLCBjbGVhbiB0aGVtIHRoZXJlLlxyXG4gIH1cclxuXHJcbiAgc3luY0Zyb21TZXR0aW5ncyhvcHRzOiB7IHJlYXNvbjogQXBwbHlSZWFzb24gfSkge1xyXG4gICAgdGhpcy5lbmFibGVkID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZDtcclxuICAgIHRoaXMuYXBwbHkob3B0cy5yZWFzb24pO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlRW5hYmxlZCgpIHtcclxuICAgIHRoaXMuc2V0RW5hYmxlZCghdGhpcy5lbmFibGVkKTtcclxuICB9XHJcblxyXG4gIHNldEVuYWJsZWQobmV4dDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gbmV4dCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZW5hYmxlZCA9IG5leHQ7XHJcbiAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVkID0gbmV4dDtcclxuICAgIHZvaWQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgdGhpcy5wbHVnaW4ubm90aWZ5KGBQcml2YWN5IG1vZGU6ICR7bmV4dCA/IFwiT05cIiA6IFwiT0ZGXCJ9YCk7XHJcbiAgICB0aGlzLmFwcGx5KFwiY29tbWFuZFwiKTtcclxuICB9XHJcblxyXG4gIG9uU2V0dGluZ3NDaGFuZ2VkKCkge1xyXG4gICAgLy8gU2V0dGluZ3MgdGFiIHNhdmVkIHNvbWV0aGluZyBcdTIwMTQgcHVzaCB1cGRhdGVkIGNvbmZpZ1xyXG4gICAgdGhpcy5hcHBseShcInNldHRpbmdzLWNoYW5nZVwiKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXBwbHkoX3JlYXNvbjogQXBwbHlSZWFzb24pIHtcclxuICAgIC8vIFJlY29uZmlndXJlIGV2ZXJ5IGFjdGl2ZSBDTTYgZWRpdG9yIHZpZXdcclxuICAgIGNvbnN0IGV4dCA9IGJ1aWxkUHJpdmFjeUV4dGVuc2lvbih7XHJcbiAgICAgIGVuYWJsZWQ6IHRoaXMuZW5hYmxlZCxcclxuICAgICAgc2V0dGluZ3M6IHRoaXMucGx1Z2luLnNldHRpbmdzLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZWZmZWN0ID0gdGhpcy5jb21wYXJ0bWVudC5yZWNvbmZpZ3VyZShleHQpO1xyXG5cclxuICAgIGZvciAoY29uc3QgdmlldyBvZiB0aGlzLmdldEFsbE1hcmtkb3duRWRpdG9yVmlld3MoKSkge1xyXG4gICAgICBjb25zdCBjbSA9IHRoaXMuZ2V0RWRpdG9yVmlldyh2aWV3KTtcclxuICAgICAgaWYgKCFjbSkgY29udGludWU7XHJcbiAgICAgIGNtLmRpc3BhdGNoKHsgZWZmZWN0czogZWZmZWN0IH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSAqZ2V0QWxsTWFya2Rvd25FZGl0b3JWaWV3cygpOiBJdGVyYWJsZTxNYXJrZG93blZpZXc+IHtcclxuICAgIGNvbnN0IGxlYXZlcyA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFwibWFya2Rvd25cIik7XHJcbiAgICBmb3IgKGNvbnN0IGxlYWYgb2YgbGVhdmVzKSB7XHJcbiAgICAgIGNvbnN0IHZpZXcgPSBsZWFmLnZpZXc7XHJcbiAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTWFya2Rvd25WaWV3KSB5aWVsZCB2aWV3O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2JzaWRpYW4ncyBFZGl0b3IgaXMgd3JhcHBlZDsgaW4gQ002IGl0IHVzdWFsbHkgZXhwb3NlcyBgLmNtYCBhcyBFZGl0b3JWaWV3LlxyXG4gICAqIFRoaXMgaXMgdGhlIGNvbW1vbiBwbHVnaW4gcGF0dGVybi5cclxuICAgKi9cclxuICBwcml2YXRlIGdldEVkaXRvclZpZXcodmlldzogTWFya2Rvd25WaWV3KTogRWRpdG9yVmlldyB8IG51bGwge1xyXG4gICAgY29uc3QgZWRpdG9yQW55ID0gdmlldy5lZGl0b3IgYXMgYW55O1xyXG4gICAgY29uc3QgY20gPSBlZGl0b3JBbnk/LmNtO1xyXG4gICAgcmV0dXJuIGNtID8/IG51bGw7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgdHlwZSB7IEV4dGVuc2lvbiB9IGZyb20gXCJAY29kZW1pcnJvci9zdGF0ZVwiO1xyXG5pbXBvcnQgeyBFZGl0b3JWaWV3LCBWaWV3UGx1Z2luLCBEZWNvcmF0aW9uLCB0eXBlIERlY29yYXRpb25TZXQsIHR5cGUgVmlld1VwZGF0ZSB9IGZyb20gXCJAY29kZW1pcnJvci92aWV3XCI7XHJcbmltcG9ydCB0eXBlIHsgTXlQbHVnaW5TZXR0aW5ncyB9IGZyb20gXCIuLi8uLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBidWlsZE1hc2tEZWNvcmF0aW9ucyB9IGZyb20gXCIuL21hc2tpbmcvYnVpbGRNYXNrRGVjb3JhdGlvbnNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFByaXZhY3lFeHRlbnNpb24oYXJnczogeyBlbmFibGVkOiBib29sZWFuOyBzZXR0aW5nczogTXlQbHVnaW5TZXR0aW5ncyB9KTogRXh0ZW5zaW9uIHtcclxuICBjb25zdCB7IGVuYWJsZWQsIHNldHRpbmdzIH0gPSBhcmdzO1xyXG5cclxuICBjb25zdCBwbHVnaW4gPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhcclxuICAgIGNsYXNzIFByaXZhY3lNYXNrUGx1Z2luIHtcclxuICAgICAgZGVjb3JhdGlvbnM6IERlY29yYXRpb25TZXQ7XHJcblxyXG4gICAgICBjb25zdHJ1Y3Rvcih2aWV3OiBFZGl0b3JWaWV3KSB7XHJcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IGJ1aWxkTWFza0RlY29yYXRpb25zKHZpZXcsIGVuYWJsZWQsIHNldHRpbmdzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdXBkYXRlKHVwZGF0ZTogVmlld1VwZGF0ZSkge1xyXG4gICAgICAgIGlmICghZW5hYmxlZCkge1xyXG4gICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IERlY29yYXRpb24ubm9uZTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IHVwZGF0ZS52aWV3cG9ydENoYW5nZWQpIHtcclxuICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBidWlsZE1hc2tEZWNvcmF0aW9ucyh1cGRhdGUudmlldywgZW5hYmxlZCwgc2V0dGluZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHsgZGVjb3JhdGlvbnM6ICh2KSA9PiB2LmRlY29yYXRpb25zIH1cclxuICApO1xyXG5cclxuICByZXR1cm4gW3BsdWdpbl07XHJcbn1cclxuIiwgImltcG9ydCB0eXBlIHsgRWRpdG9yVmlldyB9IGZyb20gXCJAY29kZW1pcnJvci92aWV3XCI7XHJcbmltcG9ydCB7IERlY29yYXRpb24gfSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiO1xyXG5pbXBvcnQgdHlwZSB7IE15UGx1Z2luU2V0dGluZ3MgfSBmcm9tIFwiLi4vLi4vLi4vc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgY29tcHV0ZVJldmVhbFJhbmdlcywgc3VidHJhY3RSYW5nZXMsIG1lcmdlUmFuZ2VzLCB0eXBlIFJhbmdlIH0gZnJvbSBcIi4vcmFuZ2VzXCI7XHJcbmltcG9ydCB7IGlzSGVhZGVyTGluZSB9IGZyb20gXCIuL2hlYWRlcnNcIjtcclxuaW1wb3J0IHsgY29tcHV0ZUV4Y2x1ZGVkUmFuZ2VzIH0gZnJvbSBcIi4vZXhjbHVzaW9uc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTWFza0RlY29yYXRpb25zKHZpZXc6IEVkaXRvclZpZXcsIGVuYWJsZWQ6IGJvb2xlYW4sIHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzKSB7XHJcbiAgaWYgKCFlbmFibGVkKSByZXR1cm4gRGVjb3JhdGlvbi5ub25lO1xyXG5cclxuICBjb25zdCBidWlsZGVyID0gbmV3IChjbGFzcyB7XHJcbiAgICBkZWNvczogeyBmcm9tOiBudW1iZXI7IHRvOiBudW1iZXI7IGRlY286IGFueSB9W10gPSBbXTtcclxuICAgIGFkZChmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIGRlY286IGFueSkge1xyXG4gICAgICB0aGlzLmRlY29zLnB1c2goeyBmcm9tLCB0bywgZGVjbyB9KTtcclxuICAgIH1cclxuICAgIGZpbmlzaCgpIHtcclxuICAgICAgLy8gQGNvZGVtaXJyb3IvdmlldyBleHBlY3RzIFJhbmdlPERlY29yYXRpb24+OyBPYnNpZGlhbiBidW5kbGVzIFJhbmdlU2V0QnVpbGRlcixcclxuICAgICAgLy8gYnV0IGEgc2ltcGxlIGJ1aWxkIHdvcmtzIHZpYSBEZWNvcmF0aW9uLnNldChbLi4uXSkgdG9vLlxyXG4gICAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQodGhpcy5kZWNvcy5tYXAoKGQpID0+IGQuZGVjby5yYW5nZShkLmZyb20sIGQudG8pKSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfSkoKTtcclxuXHJcbiAgY29uc3Qgc3RhdGUgPSB2aWV3LnN0YXRlO1xyXG5cclxuICAvLyAxKSBDb21wdXRlIHJldmVhbCByYW5nZXMgKGN1cnNvciBsZXR0ZXIvd29yZC9ub25lKVxyXG4gIGNvbnN0IGN1cnNvclJldmVhbCA9IGNvbXB1dGVSZXZlYWxSYW5nZXMoc3RhdGUsIHNldHRpbmdzLnJldmVhbE1vZGUpO1xyXG5cclxuICAvLyAyKSBDb21wdXRlIHNlbGVjdGlvbiByZXZlYWwgcmFuZ2VzIChpZiBlbmFibGVkKVxyXG4gIGNvbnN0IHNlbGVjdGlvblJldmVhbDogUmFuZ2VbXSA9IHNldHRpbmdzLnJldmVhbFNlbGVjdGlvblxyXG4gICAgPyBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzXHJcbiAgICAgICAgLmZpbHRlcigocikgPT4gIXIuZW1wdHkpXHJcbiAgICAgICAgLm1hcCgocikgPT4gKHsgZnJvbTogTWF0aC5taW4oci5mcm9tLCByLnRvKSwgdG86IE1hdGgubWF4KHIuZnJvbSwgci50bykgfSkpXHJcbiAgICA6IFtdO1xyXG5cclxuICBjb25zdCBleGNsdWRlZCA9IGNvbXB1dGVFeGNsdWRlZFJhbmdlcyhzdGF0ZSwge1xyXG4gICAgZXhjbHVkZUZyb250bWF0dGVyOiBzZXR0aW5ncy5leGNsdWRlRnJvbnRtYXR0ZXIsXHJcbiAgICBleGNsdWRlVGl0bGVMaW5lOiBzZXR0aW5ncy5leGNsdWRlVGl0bGVMaW5lLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCByZXZlYWxSYW5nZXMgPSBtZXJnZVJhbmdlcyhbLi4uY3Vyc29yUmV2ZWFsLCAuLi5zZWxlY3Rpb25SZXZlYWwsIC4uLmV4Y2x1ZGVkXSk7XHJcblxyXG4gIC8vIDMpIEJ1aWxkIG1hc2tpbmcgcGVyIHZpc2libGUgbGluZVxyXG4gIGZvciAoY29uc3QgdnIgb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XHJcbiAgICBsZXQgcG9zID0gdnIuZnJvbTtcclxuXHJcbiAgICB3aGlsZSAocG9zIDw9IHZyLnRvKSB7XHJcbiAgICAgIGNvbnN0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XHJcblxyXG4gICAgICAvLyBzdG9wIGlmIHdlJ3ZlIG1vdmVkIHBhc3Qgdmlld3BvcnRcclxuICAgICAgaWYgKGxpbmUuZnJvbSA+IHZyLnRvKSBicmVhaztcclxuXHJcbiAgICAgIGNvbnN0IGV4Y2x1ZGVUaGlzTGluZSA9IHNldHRpbmdzLmV4Y2x1ZGVIZWFkZXJzICYmIGlzSGVhZGVyTGluZShsaW5lLnRleHQpO1xyXG5cclxuICAgICAgaWYgKCFleGNsdWRlVGhpc0xpbmUpIHtcclxuICAgICAgICAvLyBNYXNrIHRoZSB3aG9sZSBsaW5lIHRleHQgKG5vdCBpbmNsdWRpbmcgbmV3bGluZSlcclxuICAgICAgICBjb25zdCBsaW5lUmFuZ2U6IFJhbmdlID0geyBmcm9tOiBsaW5lLmZyb20sIHRvOiBsaW5lLnRvIH07XHJcblxyXG4gICAgICAgIC8vIFN1YnRyYWN0IHJldmVhbCByYW5nZXMgdGhhdCBvdmVybGFwIHRoaXMgbGluZVxyXG4gICAgICAgIGNvbnN0IHJldmVhbEluTGluZSA9IHJldmVhbFJhbmdlc1xyXG4gICAgICAgICAgLmZpbHRlcigocikgPT4gci50byA+IGxpbmVSYW5nZS5mcm9tICYmIHIuZnJvbSA8IGxpbmVSYW5nZS50bylcclxuICAgICAgICAgIC5tYXAoKHIpID0+ICh7XHJcbiAgICAgICAgICAgIGZyb206IE1hdGgubWF4KHIuZnJvbSwgbGluZVJhbmdlLmZyb20pLFxyXG4gICAgICAgICAgICB0bzogTWF0aC5taW4oci50bywgbGluZVJhbmdlLnRvKSxcclxuICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFza1NlZ21lbnRzID0gc3VidHJhY3RSYW5nZXMoW2xpbmVSYW5nZV0sIHJldmVhbEluTGluZSk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc2VnIG9mIG1hc2tTZWdtZW50cykge1xyXG4gICAgICAgICAgaWYgKHNlZy50byA8PSBzZWcuZnJvbSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gc2VnLnRvIC0gc2VnLmZyb207XHJcbiAgICAgICAgICBjb25zdCBjbHMgPVxyXG4gICAgICAgICAgICBzZXR0aW5ncy5tYXNrTW9kZSA9PT0gXCJoaWRlXCIgPyBcInByaXZhY3ktbWFzay1oaWRlXCIgOiBcInByaXZhY3ktbWFzay1wYXNzd29yZFwiO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGRlY28gPSBEZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogY2xzIH0pO1xyXG4gICAgICAgICAgYnVpbGRlci5hZGQoc2VnLmZyb20sIHNlZy50bywgZGVjbyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhZHZhbmNlIHRvIG5leHQgbGluZVxyXG4gICAgICBwb3MgPSBsaW5lLnRvICsgMTtcclxuICAgICAgaWYgKHBvcyA9PT0gbGluZS5mcm9tKSBicmVhazsgLy8gc2FmZXR5XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYnVpbGRlci5maW5pc2goKTtcclxufVxyXG4iLCAiaW1wb3J0IHR5cGUgeyBFZGl0b3JTdGF0ZSB9IGZyb20gXCJAY29kZW1pcnJvci9zdGF0ZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgUmFuZ2UgPSB7IGZyb206IG51bWJlcjsgdG86IG51bWJlciB9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlUmFuZ2VzKHJhbmdlczogUmFuZ2VbXSk6IFJhbmdlW10ge1xyXG4gIGNvbnN0IHNvcnRlZCA9IHJhbmdlc1xyXG4gICAgLmZpbHRlcigocikgPT4gci50byA+IHIuZnJvbSlcclxuICAgIC5zbGljZSgpXHJcbiAgICAuc29ydCgoYSwgYikgPT4gYS5mcm9tIC0gYi5mcm9tIHx8IGEudG8gLSBiLnRvKTtcclxuXHJcbiAgY29uc3QgbWVyZ2VkOiBSYW5nZVtdID0gW107XHJcbiAgZm9yIChjb25zdCByIG9mIHNvcnRlZCkge1xyXG4gICAgY29uc3QgbGFzdCA9IG1lcmdlZFttZXJnZWQubGVuZ3RoIC0gMV07XHJcbiAgICBpZiAoIWxhc3QgfHwgci5mcm9tID4gbGFzdC50bykgbWVyZ2VkLnB1c2goeyAuLi5yIH0pO1xyXG4gICAgZWxzZSBsYXN0LnRvID0gTWF0aC5tYXgobGFzdC50bywgci50byk7XHJcbiAgfVxyXG4gIHJldHVybiBtZXJnZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdFJhbmdlcyhiYXNlOiBSYW5nZVtdLCBzdWJ0cmFjdDogUmFuZ2VbXSk6IFJhbmdlW10ge1xyXG4gIGNvbnN0IGIgPSBtZXJnZVJhbmdlcyhiYXNlKTtcclxuICBjb25zdCBzID0gbWVyZ2VSYW5nZXMoc3VidHJhY3QpO1xyXG5cclxuICBjb25zdCBvdXQ6IFJhbmdlW10gPSBbXTtcclxuICBmb3IgKGNvbnN0IGJyIG9mIGIpIHtcclxuICAgIGxldCBjdXJzb3IgPSBici5mcm9tO1xyXG5cclxuICAgIGZvciAoY29uc3Qgc3Igb2Ygcykge1xyXG4gICAgICBpZiAoc3IudG8gPD0gY3Vyc29yKSBjb250aW51ZTtcclxuICAgICAgaWYgKHNyLmZyb20gPj0gYnIudG8pIGJyZWFrO1xyXG5cclxuICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heChjdXJzb3IsIGJyLmZyb20pO1xyXG4gICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzci5mcm9tLCBici50byk7XHJcbiAgICAgIGlmIChlbmQgPiBzdGFydCkgb3V0LnB1c2goeyBmcm9tOiBzdGFydCwgdG86IGVuZCB9KTtcclxuXHJcbiAgICAgIGN1cnNvciA9IE1hdGgubWF4KGN1cnNvciwgc3IudG8pO1xyXG4gICAgICBpZiAoY3Vyc29yID49IGJyLnRvKSBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3Vyc29yIDwgYnIudG8pIG91dC5wdXNoKHsgZnJvbTogY3Vyc29yLCB0bzogYnIudG8gfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVJldmVhbFJhbmdlcyhzdGF0ZTogRWRpdG9yU3RhdGUsIHJldmVhbE1vZGU6IFwid29yZFwiIHwgXCJsZXR0ZXJcIiB8IFwibm9uZVwiKTogUmFuZ2VbXSB7XHJcbiAgaWYgKHJldmVhbE1vZGUgPT09IFwibm9uZVwiKSByZXR1cm4gW107XHJcblxyXG4gIC8vIFVzZSBwcmltYXJ5IGN1cnNvciAoaGVhZCkgZm9yIG5vdzsgbGF0ZXIgeW91IGNhbiBzdXBwb3J0IG11bHRpLWN1cnNvci5cclxuICBjb25zdCBwb3MgPSBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkO1xyXG5cclxuICBpZiAocmV2ZWFsTW9kZSA9PT0gXCJsZXR0ZXJcIikge1xyXG4gICAgLy8gUmV2ZWFsIGNoYXJhY3RlciBcInVuZGVyXCIgY3Vyc29yIGlmIHBvc3NpYmxlLCBlbHNlIHByZXZpb3VzXHJcbiAgICBpZiAocG9zIDwgc3RhdGUuZG9jLmxlbmd0aCkgcmV0dXJuIFt7IGZyb206IHBvcywgdG86IHBvcyArIDEgfV07XHJcbiAgICBpZiAocG9zID4gMCkgcmV0dXJuIFt7IGZyb206IHBvcyAtIDEsIHRvOiBwb3MgfV07XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG5cclxuICAvLyByZXZlYWxNb2RlID09PSBcIndvcmRcIlxyXG4gIGNvbnN0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XHJcbiAgY29uc3QgaWR4ID0gcG9zIC0gbGluZS5mcm9tO1xyXG5cclxuICBjb25zdCBpc1dvcmRDaGFyID0gKGNoOiBzdHJpbmcpID0+IC9bQS1aYS16MC05X10vLnRlc3QoY2gpO1xyXG5cclxuICBsZXQgbGVmdCA9IGlkeDtcclxuICB3aGlsZSAobGVmdCA+IDAgJiYgaXNXb3JkQ2hhcihsaW5lLnRleHQuY2hhckF0KGxlZnQgLSAxKSkpIGxlZnQtLTtcclxuXHJcbiAgbGV0IHJpZ2h0ID0gaWR4O1xyXG4gIHdoaWxlIChyaWdodCA8IGxpbmUudGV4dC5sZW5ndGggJiYgaXNXb3JkQ2hhcihsaW5lLnRleHQuY2hhckF0KHJpZ2h0KSkpIHJpZ2h0Kys7XHJcblxyXG4gIGlmIChyaWdodCA8PSBsZWZ0KSB7XHJcbiAgICAvLyBObyB3b3JkIGNoYXIgYXQgY3Vyc29yIFx1MjAxNCByZXZlYWwgbm90aGluZ1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFt7IGZyb206IGxpbmUuZnJvbSArIGxlZnQsIHRvOiBsaW5lLmZyb20gKyByaWdodCB9XTtcclxufVxyXG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGlzSGVhZGVyTGluZShsaW5lVGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgLy8gTWFya2Rvd24gaGVhZGVyOiB1cCB0byAzIGxlYWRpbmcgc3BhY2VzLCAxLTYgIydzLCB0aGVuIGEgc3BhY2VcclxuICByZXR1cm4gL15cXHN7MCwzfSN7MSw2fVxccy8udGVzdChsaW5lVGV4dCk7XHJcbn1cclxuIiwgImltcG9ydCB0eXBlIHsgRWRpdG9yU3RhdGUgfSBmcm9tIFwiQGNvZGVtaXJyb3Ivc3RhdGVcIjtcclxuaW1wb3J0IHR5cGUgeyBSYW5nZSB9IGZyb20gXCIuL3Jhbmdlc1wiO1xyXG5pbXBvcnQgeyBpc0hlYWRlckxpbmUgfSBmcm9tIFwiLi9oZWFkZXJzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUV4Y2x1ZGVkUmFuZ2VzKHN0YXRlOiBFZGl0b3JTdGF0ZSwgb3B0czogeyBleGNsdWRlRnJvbnRtYXR0ZXI6IGJvb2xlYW47IGV4Y2x1ZGVUaXRsZUxpbmU6IGJvb2xlYW4gfSk6IFJhbmdlW10ge1xyXG4gIGNvbnN0IG91dDogUmFuZ2VbXSA9IFtdO1xyXG5cclxuICBpZiAob3B0cy5leGNsdWRlRnJvbnRtYXR0ZXIpIHtcclxuICAgIG91dC5wdXNoKC4uLmdldEZyb250bWF0dGVyUmFuZ2VzKHN0YXRlKSk7XHJcbiAgfVxyXG5cclxuICBpZiAob3B0cy5leGNsdWRlVGl0bGVMaW5lKSB7XHJcbiAgICBjb25zdCBmaXJzdExpbmUgPSBzdGF0ZS5kb2MubGluZSgxKTtcclxuICAgIGlmIChpc0hlYWRlckxpbmUoZmlyc3RMaW5lLnRleHQpKSB7XHJcbiAgICAgIG91dC5wdXNoKHsgZnJvbTogZmlyc3RMaW5lLmZyb20sIHRvOiBmaXJzdExpbmUudG8gfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRGcm9udG1hdHRlclJhbmdlcyhzdGF0ZTogRWRpdG9yU3RhdGUpOiBSYW5nZVtdIHtcclxuICBjb25zdCByYW5nZXM6IFJhbmdlW10gPSBbXTtcclxuXHJcbiAgaWYgKHN0YXRlLmRvYy5saW5lcyA8IDIpIHJldHVybiByYW5nZXM7XHJcblxyXG4gIGNvbnN0IGZpcnN0ID0gc3RhdGUuZG9jLmxpbmUoMSkudGV4dC50cmltKCk7XHJcbiAgaWYgKGZpcnN0ICE9PSBcIi0tLVwiKSByZXR1cm4gcmFuZ2VzO1xyXG5cclxuICAvLyBGcm9udG1hdHRlciBzdGFydHMgYXQgbGluZSAxLCBlbmRzIGF0IG5leHQgbGluZSB0aGF0J3MgZXhhY3RseSAtLS0gb3IgLi4uXHJcbiAgZm9yIChsZXQgbGluZU5vID0gMjsgbGluZU5vIDw9IHN0YXRlLmRvYy5saW5lczsgbGluZU5vKyspIHtcclxuICAgIGNvbnN0IGxpbmUgPSBzdGF0ZS5kb2MubGluZShsaW5lTm8pO1xyXG4gICAgY29uc3QgdCA9IGxpbmUudGV4dC50cmltKCk7XHJcbiAgICBpZiAodCA9PT0gXCItLS1cIiB8fCB0ID09PSBcIi4uLlwiKSB7XHJcbiAgICAgIC8vIEluY2x1ZGUgYm90aCBkZWxpbWl0ZXIgbGluZXNcclxuICAgICAgY29uc3Qgc3RhcnQgPSBzdGF0ZS5kb2MubGluZSgxKTtcclxuICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tOiBzdGFydC5mcm9tLCB0bzogbGluZS50byB9KTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmFuZ2VzO1xyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBK0I7OztBQ0EvQixzQkFBK0M7QUFnQ3hDLElBQU0sbUJBQXFDO0FBQUEsRUFDakQsU0FBUztBQUFBLEVBQ1QsVUFBVTtBQUFBLEVBQ1YsWUFBWTtBQUFBLEVBQ1osa0JBQWtCO0FBQUEsRUFDbEIsb0JBQW9CO0FBQUEsRUFDcEIsZ0JBQWdCO0FBQUEsRUFDaEIsaUJBQWlCO0FBQUEsRUFDakIsYUFBYTtBQUNkO0FBRU8sSUFBTSxtQkFBTixjQUErQixpQ0FBaUI7QUFBQSxFQUd0RCxZQUFZLEtBQVUsUUFB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UUFBUTtBQUN6QixZQUFNLE9BQU8sS0FBSztBQUNsQixVQUFJLGdCQUFnQiw4QkFBYyxPQUFNO0FBQUEsSUFDMUM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1RLGNBQWMsTUFBdUM7QUFDM0QsVUFBTSxZQUFZLEtBQUs7QUFDdkIsVUFBTSxLQUFLLHVDQUFXO0FBQ3RCLFdBQU8sa0JBQU07QUFBQSxFQUNmO0FBQ0Y7OztBRmhHQSxJQUFxQixXQUFyQixjQUFzQyx3QkFBTztBQUFBLEVBSTNDLE1BQU0sU0FBUztBQUNiLFVBQU0sS0FBSyxhQUFhO0FBRXhCLFNBQUssVUFBVSxJQUFJLGtCQUFrQixJQUFJO0FBRXpDLFNBQUssY0FBYyxJQUFJLGlCQUFpQixLQUFLLEtBQUssSUFBSSxDQUFDO0FBQ3ZELFNBQUssaUJBQWlCO0FBR3RCLFNBQUssUUFBUSxpQkFBaUIsRUFBRSxRQUFRLFVBQVUsQ0FBQztBQUFBLEVBQ3JEO0FBQUEsRUFFQSxXQUFXO0FBcEJiO0FBcUJJLGVBQUssWUFBTCxtQkFBYztBQUFBLEVBQ2hCO0FBQUEsRUFFUSxtQkFBbUI7QUFDekIsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU0sS0FBSyxRQUFRLGNBQWM7QUFBQSxJQUM3QyxDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU0sS0FBSyxRQUFRLFdBQVcsSUFBSTtBQUFBLElBQzlDLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTSxLQUFLLFFBQVEsV0FBVyxLQUFLO0FBQUEsSUFDL0MsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUVBLHdCQUF3QjtBQUN0QixTQUFLLFFBQVEsa0JBQWtCO0FBQUEsRUFDakM7QUFBQSxFQUVBLE9BQU8sS0FBYTtBQUNsQixRQUFJLEtBQUssU0FBUyxZQUFhLEtBQUksd0JBQU8sR0FBRztBQUFBLEVBQy9DO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDbkIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQW1CLE1BQU0sS0FBSyxTQUFTLENBQStCO0FBQUEsRUFDMUc7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNuQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNuQztBQUNGOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF92aWV3Il0KfQo=
